<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Bootstrap CSS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
    .table-container {
      height: 400px; /* Adjust the height as needed */
      overflow-y: auto;
    }

    .tab-bar-container {
      height: 300px; /* Adjust the height as needed */
      overflow-y: auto;
    }
    .tab-content {
      display: none;
    }
  </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <h2>Users</h2>
            <div class="table-container">
                <table id="usersTable" class="table">
                    <thead>
                    <tr>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- User data will be populated dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-md-3">
            <h2>Products</h2>
            <div class="table-container">
                <table id="productsTable" class="table">
                    <thead>
                    <tr>
                        <th>Product</th>
                        <th>Seller</th>
                        <th>Price</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- Product data will be populated dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-md-4 right">
            <h2>Search</h2>
            <div class="tab-bar-container">
                <ul class="nav nav-tabs" id="searchTabBar">
                    <li class="nav-item">
                        <a class="nav-link active" data-tab="users" href="#">Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-tab="products" href="#">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-tab="add-user" href="#">Add User</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-tab="add-product" href="#">Add Product</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="tab-users">
                        <div class="mb-3">
                            <label>Filter:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="userFilter" id="usernameFilter" value="username" checked>
                                <label class="form-check-label" for="usernameFilter">Username</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="userFilter" id="emailFilter" value="email">
                                <label class="form-check-label" for="emailFilter">Email</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="userSearchInput">Search:</label>
                            <input type="text" id="userSearchInput" class="form-control">
                        </div>
                        <button id="searchButton" class="btn btn-primary">Search</button>
                        <table id="searchResultsTable" class="table" style="display: none;">
                            <thead>
                            <tr>
                                <th>Result</th>
                            </tr>
                            </thead>
                            <tbody>
                            <!-- Search results will be populated dynamically -->
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane" id="tab-products">
                        <div class="mb-3">
                            <label>Filter:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="productFilter" id="productFilter" value="product" checked>
                                <label class="form-check-label" for="productFilter">Product</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="productFilter" id="sellerFilter" value="seller">
                                <label class="form-check-label" for="sellerFilter">Seller</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="minPriceInput">Min Price:</label>
                            <input type="number" id="minPriceInput" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label for="maxPriceInput">Max Price:</label>
                            <input type="number" id="maxPriceInput" class="form-control">
                        </div>
                        <button id="searchButton" class="btn btn-primary">Search</button>
                        <table id="searchResultsTable" class="table" style="display: none;">
                            <thead>
                            <tr>
                                <th>Result</th>
                            </tr>
                            </thead>
                            <tbody>
                            <!-- Search results will be populated dynamically -->
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane" id="tab-add-user">
                        <div class="mb-3">
                            <label for="usernameInput">Username:</label>
                            <input type="text" id="usernameInput" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label for="emailInput">Email:</label>
                            <input type="email" id="emailInput" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label for="passwordInput">Password:</label>
                            <input type="password" id="passwordInput" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label for="repeatPasswordInput">Repeat Password:</label>
                            <input type="password" id="repeatPasswordInput" class="form-control">
                        </div>
                        <div class="progress mb-3">
                            <div id="passwordStrengthBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <button id="addUserButton" class="btn btn-primary">Add User</button>
                    </div>
                    <div class="tab-pane" id="tab-add-product">
                        <div class="mb-3">
                            <label for="productNameInput">Product Name:</label>
                            <input type="text" id="productNameInput" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label for="sellerInput">Seller:</label>
                            <input type="text" id="sellerInput" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label for="priceInput">Price:</label>
                            <input type="number" id="priceInput" class="form-control">
                        </div>
                        <button id="addProductButton" class="btn btn-primary">Add Product</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.5.0/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).ready(function() {
      // Dummy data
      var usersData = [
        {
          "id": 1,
          "username": "user1",
          "email": "user1@example.com"
        },
        {
          "id": 2,
          "username": "user2",
          "email": "user2@example.com"
        }
      ];

      var productsData = [
        {
          "id": 1,
          "productname": "Product 1",
          "seller": "Seller 1",
          "price": 10
        },
        {
          "id": 2,
          "productname": "Product 2",
          "seller": "Seller 2",
          "price": 20
        }
      ];

      // Populate users table
      var usersTable = $('#usersTable').DataTable({
        data: usersData,
        columns: [
          { data: 'username' },
          { data: 'email' },
          { data: null, render: function(data) {
            return '<button class="btn btn-outline-secondary">&minus;</button>';
          }}
        ]
      });

      // Populate products table
      var productsTable = $('#productsTable').DataTable({
        data: productsData,
        columns: [
          { data: 'productname' },
          { data: 'seller' },
          { data: 'price' },
          { data: null, render: function(data) {
            return '<button class="btn btn-outline-secondary">&minus;</button>';
          }}
        ]
      });

      // Tab bar click event
      $('#searchTabBar a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
        var targetTab = $(e.target).data('tab');
        $('.tab-pane').removeClass('active');
        $('.tab-pane').hide();
        $('#tab-' + targetTab).addClass('active');
        $('#tab-' + targetTab).show();
      });

      // Search button click event
      $('#searchButton').click(function() {
        var searchType = $('#searchType').val();
        var searchResults = [];
        if (searchType === 'users') {
          var userFilter = $('input[name="userFilter"]:checked').val();
          var userInput = $('#userSearchInput').val().toLowerCase();
          searchResults = usersData.filter(function(user) {
            if (userFilter === 'username') {
              return user.username.toLowerCase().indexOf(userInput) > -1;
            } else if (userFilter === 'email') {
              return user.email.toLowerCase().indexOf(userInput) > -1;
            }
          });
        } else if (searchType === 'products') {
          var productFilter = $('input[name="productFilter"]:checked').val();
          var minPrice = parseInt($('#minPriceInput').val());
          var maxPrice = parseInt($('#maxPriceInput').val());
          searchResults = productsData.filter(function(product) {
            if (productFilter === 'product') {
              return product.productname.toLowerCase().indexOf(userInput) > -1;
            } else if (productFilter === 'seller') {
              return product.seller.toLowerCase().indexOf(userInput) > -1;
            }
          });
        }
        // Update search results table
        var searchResultsTable = $('#searchResultsTable').DataTable();
        searchResultsTable.clear().rows.add(searchResults).draw();
        $('#searchResultsTable').show();
      });

      // Add User button click event
      $('#addUserButton').click(function() {
        // Fetch input values
        var username = $('#usernameInput').val();
        var email = $('#emailInput').val();
        var password = $('#passwordInput').val();
        var repeatPassword = $('#repeatPasswordInput').val();

        // Perform validation and add user
        // ...

        // Clear input fields
        $('#usernameInput').val('');
        $('#emailInput').val('');
        $('#passwordInput').val('');
        $('#repeatPasswordInput').val('');
      });

      // Add Product button click event
      $('#addProductButton').click(function() {
        // Fetch input values
        var productName = $('#productNameInput').val();
        var seller = $('#sellerInput').val();
        var price = parseFloat($('#priceInput').val());

        // Perform validation and add product
        // ...

        // Clear input fields
        $('#productNameInput').val('');
        $('#sellerInput').val('');
        $('#priceInput').val('');
      });
    });
  </script>
</body>

</html>